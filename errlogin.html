<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Demo – Trạng thái sau khi nhập sai</title>
  <style>
    :root{
      --bg:#e9ebee;
      --card:#fff;
      --text:#1c1e21;
      --muted:#606770;
      --brand:#2b6fe8;      /* màu nhấn an toàn */
      --btn:#2b6fe8;
      --btn-hover:#225ad1;
      --error:#e41e3f;      /* màu đỏ thông báo lỗi */
      --input-border:#dddfe2;
      --shadow:0 2px 12px rgba(0,0,0,.08);
      --radius:8px;
      --card-w:396px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
    }
    .wrap{min-height:80%;display:flex;flex-direction:column}
    .main{flex:1 0 auto;display:grid;place-items:center;padding:40px 16px 0}
    .brand{display:flex;flex-direction:column;align-items:center;gap:18px;margin-bottom:18px;user-select:none}
    .brand-title{font-size:44px;font-weight:800;letter-spacing:.2px;color:var(--brand);text-transform:lowercase}
    .card{width:396px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .card h2{text-align:center;font-size:18px;margin:8px 0 16px;font-weight:700}
    form{margin:0}

    .field{position:relative;margin-bottom:12px}
    .field input{
      width:100%;
      padding:14px 44px 14px 12px; /* chừa chỗ cho icon bên phải bên trong input */
      border:1px solid var(--input-border);
      border-radius:6px;font-size:15px;outline:none;background:#fff;
      transition:border-color .2s, box-shadow .2s;
    }
    .field input:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(43,111,232,.15)}

    /* Icon bên trong input, sát lề phải */
    .icon-inline,
    .icon-btn{
      position:absolute;right:12px;top:50%;transform:translateY(-50%);
    }

    /* Trạng thái lỗi: viền đỏ + icon + thông báo đỏ */
    .field.error input{
      border-color:var(--error);
      box-shadow:0 0 0 1px var(--error) inset;
    }
    .icon-alert{
      width:20px;height:20px;color:var(--error);
      display:none;pointer-events:none; /* không chặn tương tác với input */
      z-index:1;
    }
    .field.error .icon-alert{display:block}

    .error-text{
      display:none;color:var(--error);font-size:12.5px;line-height:1.45;margin:6px 4px 0;
    }
    .error-text.show{display:block}

    /* Nút con mắt trong ô mật khẩu */
    .icon-btn{
      width:28px;height:28px;display:none;align-items:center;justify-content:center;
      border:none;background:transparent;color:#7c7f84;cursor:pointer;padding:0;
      border-radius:4px;
      transition:opacity .2s ease;
    }
    /* Chỉ hiện button khi có text trong input */
    .field.has-text .icon-btn{
      display:flex;
    }
    .icon-btn:hover{color:#3a3d41}
    .icon-btn:focus-visible{outline:2px solid rgba(43,111,232,.5);outline-offset:2px}

    .eye-open{display:none}
    .showing-pass .eye-open{display:block}
    .showing-pass .eye-closed{display:none}

    .btn{
      display:inline-flex;justify-content:center;align-items:center;width:100%;height:44px;border:none;
      border-radius:6px;background:var(--btn);color:#fff;font-weight:700;font-size:16px;cursor:pointer;transition:background .15s ease;
    }
    .btn:hover{background:var(--btn-hover)}
    .link{display:block;text-align:center;margin-top:14px;color:var(--brand);font-size:14px;text-decoration:none}
    .link:hover{text-decoration:underline}
    .notice{color:var(--muted);font-size:12px;text-align:center;margin-top:14px}
    footer{flex:0 0 auto;padding:28px 16px;color:#8a8d91}
    .footer-inner{max-width:980px;margin:0 auto;font-size:12.5px}
    .langs,.links{display:flex;flex-wrap:wrap;gap:10px 14px;list-style:none;padding:0;margin:0 0 10px}
    .langs li,.links li{white-space:nowrap}
    .sep{margin:0 6px;color:#c9ccd1}
    .copyright{margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <main class="main" aria-labelledby="brand">
      <div class="brand" id="brand">
        <div class="brand-title" aria-hidden="true">facebook</div>
        <div class="card" role="region" aria-label="Khung đăng nhập">
          <h2>Đăng nhập Facebook</h2>

          <form id="login-form" novalidate>
            <!-- Email/phone – HIỂN THỊ LỖI NGAY TỪ ĐẦU -->
            <div class="field error" id="email-field">
                <div class="field" id="">
                    <input id="email" name="email" type="text" inputmode="email"
                     placeholder="Email hoặc số di động" autocomplete="username" aria-describedby="email-error" />
                    <!-- Icon cảnh báo nằm BÊN TRONG input, sát lề phải -->
                    <svg class="icon-inline icon-alert" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill="currentColor" d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2V9h2v5z"/>
                    </svg>
                </div>
              <div id="email-error" class="error-text show" role="alert" aria-live="polite">
                Email hoặc số di động bạn nhập không kết nối với tài khoản nào. Hãy tìm tài khoản của bạn và đăng nhập.
              </div>
            </div>

            <!-- Password + nút con mắt -->
            <div class="field" id="pass-field">
              <input id="password" name="password" type="password"
                     placeholder="Mật khẩu" autocomplete="current-password" />
              <button class="icon-btn" id="toggle-pass" type="button"
                      aria-label="Hiện mật khẩu" aria-pressed="false">
                <!-- Eye closed -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-closed"><path d="M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"/><path d="M14.084 14.158a3 3 0 0 1-4.242-4.242"/><path d="M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"/><path d="m2 2 20 20"/></svg>
                <!-- Eye open -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-open"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>

            <!-- Để tránh gửi form thật, dùng button thường -->
            <button class="btn" type="button">Đăng nhập</button>
            <a class="link" href="#" onclick="return false;">Quên mật khẩu?</a>
          </form>
        </div>
      </div>
    </main>

    <!-- <footer>
      <div class="footer-inner">
        <ul class="langs">
          <li>Tiếng Việt</li><li class="sep">·</li>
          <li>English</li><li class="sep">·</li>
          <li>Français</li><li class="sep">·</li>
          <li>Deutsch</li><li class="sep">·</li>
          <li>Español</li><li class="sep">·</li>
          <li>日本語</li><li class="sep">·</li>
          <li>한국어</li><li class="sep">·</li>
          <li>中文</li>
        </ul>
        <ul class="links">
          <li>Giới thiệu</li><li>Trung tâm trợ giúp</li><li>Riêng tư</li><li>Điều khoản</li><li>Tạo trang</li>
        </ul>
        <div class="copyright">© 2025 SocialSite Demo</div>
      </div>
    </footer>
  </div> -->

  <script>
    // Toggle show/hide password with eye icon
    const passInput = document.getElementById('password');
    const togglePassBtn = document.getElementById('toggle-pass');
    const passField = document.getElementById('pass-field');

    function setShowing(state){
      // state: true = hiện mật khẩu
      passInput.type = state ? 'text' : 'password';
      togglePassBtn.setAttribute('aria-pressed', String(state));
      togglePassBtn.setAttribute('aria-label', state ? 'Ẩn mật khẩu' : 'Hiện mật khẩu');
      if(state){
        togglePassBtn.classList.add('showing-pass');
      }else{
        togglePassBtn.classList.remove('showing-pass');
      }
    }

    // Hiển thị/ẩn button dựa trên nội dung input
    function updateButtonVisibility(){
      if(passInput.value.length > 0){
        passField.classList.add('has-text');
      }else{
        passField.classList.remove('has-text');
        // Nếu không có text, đặt lại trạng thái về ẩn mật khẩu
        setShowing(false);
      }
    }

    // Kiểm tra khi người dùng gõ
    passInput.addEventListener('input', updateButtonVisibility);
    
    // Kiểm tra ban đầu (trong trường hợp có giá trị mặc định)
    updateButtonVisibility();

    togglePassBtn.addEventListener('click', () => {
      const isShowing = togglePassBtn.classList.contains('showing-pass');
      setShowing(!isShowing);
    });

    // (Tùy chọn) Ẩn trạng thái lỗi email khi người dùng gõ lại
    const emailField = document.getElementById('email-field');
    const emailInput = document.getElementById('email');
    // const emailError = document.getElementById('email-error');
    emailInput.addEventListener('input', () => {
      emailField.classList.remove('error');
      emailError.classList.remove('show');
    });
  </script>
</body>
</html>